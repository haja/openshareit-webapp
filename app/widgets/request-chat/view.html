<div>
  <div data-bind="click: uiToggleActive">
    <img alt="thumbnail" title="Userfoto" src="static/thumbnails/profile-default-xs.png" style="margin-right: 15px;" class="img-thumbnail pull-left" />
    <span class="glyphicon glyphicon-chevron-down pull-right" data-bind="visible: ! request.active()"></span>
    <span class="glyphicon glyphicon-chevron-up pull-right" data-bind="visible: request.active()"></span>
    <i class="fa fa-spinner fa-spin pull-right" data-bind="visible: request.isLoading"></i>
    Anfrage von <a data-bind="text: request.from.getFullName, click: showUserDialog, clickBubble: false"></a>
    <br />
    <!-- <span data-bind="visible: ! request.active(), text: request.messages[0].text" class="text-muted"></span> -->
    <div class="clearfix"></div>
  </diV>
  <div data-bind="if: request.active" class="request-active-panel">
    <div class="panel panel-default">
      <form data-bind="submit: sendMessage">
        <div class="input-group input-group-sm">
          <input type="text" class="form-control" data-bind="value: message" />
          <span class="input-group-btn">
            <button class="btn btn-default" type="submit">Senden</button>
          </span>
        </div>
      </form>
      <div class="panel-body request-messages-panel row" data-bind="foreach: request.messages">
        <div class="request-message col-xs-7" data-bind="css: { 'me col-xs-offset-5': from.id !== $parent.otherUserId }">
          <span data-bind="text: sendDate"></span>
          <div class="request-message-body" data-bind="text: message">
          </div>
        </div>
      </div>
    </div>
    <button style="margin-left: 10px" class="btn btn-primary btn-sm pull-right" data-bind="click: approveRequest, visible: ! request.approved()">Akzeptieren</button>
    <span class="pull-right" data-bind="visible: request.approved()">
      Anfrage akzeptiert
    </span>
    <!-- <button class="btn btn-default btn-sm pull-right">Ablehnen</button> -->
  </div>
</div>
